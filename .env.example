# SnackBase Environment Configuration
# Copy this file to .env and update with your values

# ------------------------------------------------------------------------------
# Application Settings
# ------------------------------------------------------------------------------
SNACKBASE_APP_NAME=SnackBase
SNACKBASE_APP_VERSION=0.1.0
SNACKBASE_ENVIRONMENT=development
SNACKBASE_DEBUG=false
SNACKBASE_API_PREFIX=/api/v1
SNACKBASE_EXTERNAL_URL=http://localhost:8000
SNACKBASE_IS_DEMO=false

# ------------------------------------------------------------------------------
# Server Settings
# ------------------------------------------------------------------------------
SNACKBASE_HOST=0.0.0.0
SNACKBASE_PORT=8000
SNACKBASE_WORKERS=1

# ------------------------------------------------------------------------------
# Database Settings
# ------------------------------------------------------------------------------
SNACKBASE_DATABASE_URL=sqlite+aiosqlite:///./sb_data/snackbase.db
SNACKBASE_DB_POOL_SIZE=5
SNACKBASE_DB_MAX_OVERFLOW=10
SNACKBASE_DB_POOL_TIMEOUT=30
SNACKBASE_DB_POOL_RECYCLE=3600
SNACKBASE_DB_ECHO=false

# ------------------------------------------------------------------------------
# Security Settings
# ------------------------------------------------------------------------------
# Use a secure random hex string (openssl rand -hex 32)
SNACKBASE_SECRET_KEY=change-me-in-production-use-openssl-rand-hex-32
SNACKBASE_ENCRYPTION_KEY=change-me-in-production-use-openssl-rand-hex-32
SNACKBASE_ACCESS_TOKEN_EXPIRE_MINUTES=60
SNACKBASE_REFRESH_TOKEN_EXPIRE_DAYS=7

# ------------------------------------------------------------------------------
# CORS Settings
# ------------------------------------------------------------------------------
SNACKBASE_CORS_ORIGINS=["http://localhost:3000","http://localhost:8000","http://localhost:5173"]
SNACKBASE_CORS_ALLOW_CREDENTIALS=true
SNACKBASE_CORS_ALLOW_METHODS=["*"]
SNACKBASE_CORS_ALLOW_HEADERS=["*"]

# ------------------------------------------------------------------------------
# Logging Settings
# ------------------------------------------------------------------------------
SNACKBASE_LOG_LEVEL=INFO
SNACKBASE_LOG_FORMAT=json
# SNACKBASE_LOG_FILE=./server.log

# ------------------------------------------------------------------------------
# File Storage Settings
# ------------------------------------------------------------------------------
SNACKBASE_STORAGE_PATH=./sb_data/files
SNACKBASE_MAX_FILE_SIZE=10485760  # 10MB in bytes
SNACKBASE_ALLOWED_MIME_TYPES=["image/jpeg","image/png","image/gif","image/webp","application/pdf","text/plain","application/json"]

# ------------------------------------------------------------------------------
# Rate Limiting Settings
# ------------------------------------------------------------------------------
SNACKBASE_RATE_LIMIT_ENABLED=false
SNACKBASE_RATE_LIMIT_PER_MINUTE=60
SNACKBASE_RATE_LIMIT_PER_HOUR=1000
SNACKBASE_RATE_LIMIT_BURST=10
SNACKBASE_RATE_LIMIT_AUTHENTICATED_PER_MINUTE=120
SNACKBASE_RATE_LIMIT_ENDPOINTS={}

# ------------------------------------------------------------------------------
# API Key Settings
# ------------------------------------------------------------------------------
SNACKBASE_API_KEY_HEADER=X-API-Key
SNACKBASE_API_KEY_MAX_PER_USER=10
# SNACKBASE_API_KEY_DEFAULT_EXPIRATION_DAYS=90
SNACKBASE_API_KEY_RATE_LIMIT_PER_MINUTE=100

# ------------------------------------------------------------------------------
# Security Headers Middleware
# ------------------------------------------------------------------------------
SNACKBASE_SECURITY_HEADERS_ENABLED=true
SNACKBASE_HSTS_MAX_AGE=31536000
SNACKBASE_CSP_POLICY="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; font-src 'self'; connect-src 'self'; frame-ancestors 'none'"
SNACKBASE_PERMISSIONS_POLICY="geolocation=(), microphone=(), camera=(), payment=(), usb=(), magnetometer=(), gyroscope=(), accelerometer=()"
SNACKBASE_HTTPS_REDIRECT_ENABLED=false

# ------------------------------------------------------------------------------
# Superadmin Auto-Creation (optional)
# ------------------------------------------------------------------------------
# SNACKBASE_SUPERADMIN_EMAIL=admin@example.com
# SNACKBASE_SUPERADMIN_PASSWORD=ChangeMe123!

# ------------------------------------------------------------------------------
# Cache Settings
# ------------------------------------------------------------------------------
SNACKBASE_PERMISSION_CACHE_TTL_SECONDS=300
