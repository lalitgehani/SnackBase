{
  "$schema": "https://railway.app/railway.schema.json",
  "build": {
    "builder": "NIXPACKS"
  },
  "deploy": {
    "startCommand": "uv run uvicorn snackbase.infrastructure.api.app:app --host 0.0.0.0 --port 8000"
  },
  "variables": {
    "SNACKBASE_DATABASE_URL": {
      "description": "Database URL (Mapped to PostgreSQL plugin)",
      "defaultValue": "${{DATABASE_URL}}",
      "required": true
    },
    "SNACKBASE_SECRET_KEY": {
      "description": "Secret key for JWT token signing (Generate with openssl rand -hex 32)",
      "required": true
    },
    "SNACKBASE_ENCRYPTION_KEY": {
      "description": "Secret key for sensitive data encryption (Generate with openssl rand -hex 32)",
      "required": true
    },
    "SNACKBASE_HOST": {
      "description": "Host to bind to",
      "defaultValue": "0.0.0.0",
      "required": true
    },
    "SNACKBASE_PORT": {
      "description": "Port to bind to (Railway automatically sets PORT)",
      "defaultValue": "${{PORT}}",
      "required": true
    },
    "SNACKBASE_SUPERADMIN_EMAIL": {
      "description": "Email for initial superadmin (Optional)",
      "required": false
    },
    "SNACKBASE_SUPERADMIN_PASSWORD": {
      "description": "Password for initial superadmin (Optional)",
      "required": false
    },
    "SNACKBASE_CORS_ORIGINS": {
      "description": "Allowed CORS origins",
      "defaultValue": "https://${{RAILWAY_PUBLIC_DOMAIN}}",
      "required": false
    }
  }
}
